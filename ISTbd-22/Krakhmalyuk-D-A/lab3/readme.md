# Отчёт по лабораторной работе №3

## Кто такой Чарльз Хоар? Чем он известен?

Сэр Чарльз Э́нтони Ри́чард Хо́ар (род. 11 января 1934 года) - английский ученый в области информатики и вычислительной техники, наиболее известный как автор одного из самых популярных на сегодняшний день алгоритмов сортировки под названием «быстрая сортировка», который был разработан им в 1960 году во время его работы в Московском Государственном Университете.

## Общее описание метода Хоара

Быстрая сортировка - развитие сортировки методом прямого обмена. Отличается от этого метода тем, что в начале каждого прохода происходит перестановка на наибольшем возможном расстоянии, а в конце прохода элементы делятся на две части.

## Алгоритм метода Хоара

1. Выбрать опорный элемент
2. Относительно него разделить массив на 2 части (если элементы меньше опорного элемента, поставить их слева от него, иначе - справа)
3. Повторять шаги 1-2 для получившихся блоков, пока не получатся блоки из одного элемента

## Как происходит выбор опорного пункта

Для наиболее эффективной сортировки опорный пункт должен быть медианой последовательности. Однако, так как медиану находить затратно, на практике в качестве опрного элемента используется первый, средний, последний, или рандомный элемент.

## Разбиение Ломуто

Алгоритм хранит индекс в переменной i. Каждый раз, когда находится элемент, меньший или равный опорному, индекс увеличивается, и элемент вставляется перед опорным (если им выбран последний элемент). Хотя эта схема разбиения проще и компактнее, чем схема Хоара, из-за чего чаще используется в обучающих материалах, она менее эффективна.

## Разбиение Хоара

Данная схема использует два индекса (один в начале массива, другой в конце), которые приближаются друг к другу, пока не найдётся пара элементов, где один больше опорного и расположен перед ним, а второй меньше и расположен после. Эти элементы меняются местами. Обмен происходит до тех пор, пока индексы не пересекутся. Алгоритм возвращает последний индекс. Схема Хоара эффективнее схемы Ломуто, так как происходит в среднем в три раза меньше обменов элементов, и разбиение эффективнее, даже когда все элементы равны.

## Достоинства и недостатки

Один из самых быстрых универсальных алгоритмов сортировки массива, при этом короток и не слишком сложен. Его скорость, однако, быстро падает в худшем или близком к нему случае, а также этот алгоритм неустойчив.

## Интересные факты метода Хоара

Падение скорости практически полностью решается случайным выбором медианы, так как вероятность возникновения худшего случая при этом становится исключительно малой.

Неустойчивость алгоритма можно решить путём расширения ключа исходным индексом элемента в массиве. В случае равенства основных ключей сравнение производится по индексу, исключая, таким образом, возможность изменения взаимного положения равных элементов. Это, однако, несколько повышает использование алгоритмом памяти и уменьшает его эффективность.
