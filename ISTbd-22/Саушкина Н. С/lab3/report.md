# Лабораторная работа №3

## Cортировка методом Хоара

### Исходный код

```c++
#include <iostream>
#include <limits>
using namespace std;

void QuickSearch(int* a, int first, int last)
{

	int i = first, j = last;
	int tmp, x = a[(first + last) / 2];

	do {
		while (a[i] < x)
			i++;
		while (a[j] > x)
			j--;

		if (i <= j)
		{
			if (i < j)
			{
				tmp = a[i];
				a[i] = a[j];
				a[j] = tmp;
			}
			i++;
			j--;
		}
	} while (i <= j);

	if (i < last)
		QuickSearch(a, i, last);
	if (first < j)
		QuickSearch(a, first, j);
}
int main() {
	int n;
	cout << "Enter the size of the array:" << endl;
	cin >> n;
	int* arr = new int[n];
	cout << "Enter the array elements:" << endl;
	for (int i = 0; i < n; i++)
	{
		int digit;
		cin >> digit;
		arr[i] = digit;
	}
	QuickSearch(arr, 0, n - 1);
	 cout << "Result: ";
	 for (int j = 0; j < n; j++)
	 {
		 cout << arr[j] << " ";
	 }
	 cout << endl;
	 system("pause");
	return 0;
}
```

### Ответы на вопросы:

1. Чарльз Хоар - английский учёный, специализирующийся в области информатики и вычислительной техники. Наиболее известен как разработчик алгоритма «быстрой сортировки», на сегодняшний день являющегося наиболее популярным алгоритмом сортировки.

2. Этот метод основывается на последовательном разделении сортируемого набора данных на блоки меньшего размера таким образом, что между значениями разных блоков обеспечивается отношение упорядоченности (для любой пары блоков все значения одного из этих блоков не превышают значений другого блока).

3. Алгоритм быстрой сортировки Хоара:

    Пусть дан массив x[n] размерности n.

   * Выбирается опорный элемент массива.

   * Массив разбивается на два – левый и правый – относительно опорного элемента. Реорганизуем массив таким образом, чтобы все элементы, меньшие опорного элемента, оказались слева от него, а все элементы, большие опорного – справа от него.

   * Далее повторяется шаг 2 для каждого из двух вновь образованных массивов. Каждый раз при повторении преобразования очередная часть массива разбивается на два меньших и т. д., пока не получится массив из двух элементов


4.  Опорным (ведущим) элементом называется некоторый элемент массива, который выбирается определенный образом. С точки зрения корректности алгоритма выбор опорного элемента безразличен. С точки зрения повышения эффективности алгоритма выбираться должна медиана, но без дополнительных сведений о сортируемых данных ее обычно невозможно получить. Необходимо выбирать постоянно один и тот же элемент (например, средний или последний по положению) или выбирать элемент со случайно выбранным индексом.

5. В схеме Ломуто выбирается точка поворота, которая обычно является последним элементом массива. Алгоритм поддерживает индекс i, поскольку он сканирует массив, используя другой индекс j , так что элементы от lo до i-1 (включительно) меньше, чем точка поворота, а элементы с i по j (включительно) равны или больше, чем стержень. Поскольку эта схема более компактна и проста для понимания, она часто используется во вводном материале.

6. В основе быстрой сортировки Хоара лежит принцип разбиения. Сначала выбирается некоторое значение в качестве "основы" и затем весь массив разбивается на две части. Одну часть составляют все элементы, равные или большие "основы", а другую часть составляют все элементы меньшего значения, по которому делается разбиение. Этот процесс продолжается для оставшихся частей до тех пор, пока весь массив не будет отсортирован. 

7. Схема Ломута:

`+`
более компактна и проста для понимания 

`-`менее эффективна, когда все элементы равны

Схема Хоара:

`+`

* делает в среднем в три раза меньше свопов и создает эффективные разбиения, даже когда все значения равны

* нет риска бесконечной рекурсии Быстрая сортировка 

`-`разбиение Хора не дает стабильного сорта 

8. 

* Быстрая сортировка является наиболее эффективным алгоритмом из всех известных методов сортировки, но все усовершенствованные методы имеют один общий недостаток – невысокую скорость работы при малых значениях n.

* Интересно, что Хоар разработал этот метод применительно к машинному переводу: дело в том, что время словарь хранился на магнитной ленте, и если упорядочить все слова в тексте, их переводы можно получить за один прогон ленты.