# Отчёт по лабораторной работе №7 #

## Что такое Ханойская башня ##

Ханойская башня является одной из популярных головоломок XIX века. Даны три стержня, на один из которых нанизаны n колец, причем кольца отличаются размером и лежат меньшее на большем. Задача состоит в том, чтобы перенести пирамиду из n колец за наименьшее число ходов с одного стержня на другой. За один раз разрешается переносить только одно кольцо, причём нельзя класть большее кольцо на меньшее.

## Рекурсивное решение ##

1. Рекурсивно решаем задачу «перенести башню из n−1 диска на 2-й стержень»
2. Переносим самый большой диск на 3-й стержень
3. Рекурсивно решаем задачу «перенеси башню из n−1 диска на 3-й стержень»

Минимальное число ходов, необходимое для решения головоломки, равно 2ⁿ − 1, где n — число дисков.

## «Треугольное» решение ##

Расположим стержни в виде треугольника. Начнём с самого маленького кольца и переложим его на любую отметку. В дальнейшем это кольцо нужно перемещать в том же направлении, что и при первом перекладывании. Затем перенесём какое-нибудь из оставшихся колец (такой ход единственный), после чего снова переложим самое маленькое кольцо и т. д. Чётные кольца будут перемещаться из одной вершины треугольника в другую в одном направлении, а нечётные — в противоположном направлении.

## Циклическое решение ##

Обозначим через «A-B» такое действие: переложить диск или со стержня A на стержень B, или со стержня B на стержень A, в зависимости от того, где он меньше. Тогда, чтобы решить головоломку с чётным количеством дисков, надо многократно повторять действия: A-B, A-C, B-C. Если число дисков нечётно — A-C, A-B, B-C.

## Применение кода Грея для решения ##

Код Грея, рефлексный двоичный код в двоичной системе счисления, в котором два соседних значения различаются только в одном двоичном разряде. Коды Грея могут быть применены в решении задачи о Ханойских башнях.

Пусть N — количество дисков. Начнём с кода Грея длины N, состоящего из одних нулей (то есть G₀), и будем двигаться по кодам Грея (от Gᵢ переходить к Gᵢ₊₁). Поставим в соответствие каждому i-ому биту текущего кода Грея i-ый диск (причём самому младшему биту соответствует наименьший по размеру диск, а самому старшему биту — наибольший). Поскольку на каждом шаге изменяется ровно один бит, то мы можем понимать изменение бита i как перемещение i-го диска. Заметим, что для всех дисков, кроме наименьшего, на каждом шаге имеется ровно один вариант хода (за исключением стартовой и финальной позиций). Для наименьшего диска всегда имеется два варианта хода, однако имеется стратегия правильного выбора хода: для нечётного N последовательность перемещений наименьшего диска f→t→r→f→t→r→… (где f — стартовый стержень, t — финальный стержень, r -оставшийся стержень), а для чётного f→r→t→f→r→t→…
