# Отчёт по лабораторной работе №3 #

## Кто такой Чарльз Хоар и чем он известен ##

Сэр Чарльз Энтони Ричард Хоар - английский учёный, специализирующийся в области информатики и вычислительной техники. Наиболее известен как разработчик алгоритма «быстрой сортировки» (1960), на сегодняшний день являющегося наиболее популярным алгоритмом сортировки.

## Общее описание метода Хоара ##

Этот метод основывается на последовательном разделении сортируемого набора данных на блоки меньшего размера таким образом, что между значениями разных блоков обеспечивается отношение упорядоченности (для любой пары блоков все значения одного из этих блоков не превышают значений другого блока).

## Алгоритм метода Хоара ##

1. Выбирается опорный элемент массива

2. Массив разбивается на два – левый и правый – относительно опорного элемента. Реорганизуем массив таким образом, чтобы все элементы, меньшие опорного элемента, оказались слева от него, а все элементы, большие опорного – справа от него

3. Далее повторяется шаг 2 для каждого из двух вновь образованных массивов. Каждый раз при повторении преобразования очередная часть массива разбивается на два меньших и т. д., пока не получится массив из двух элементов

## Как происходит выбор опорного пункта ##

С точки зрения корректности алгоритма выбор опорного элемента безразличен. С точки зрения повышения эффективности алгоритма выбираться должна медиана, но без дополнительных сведений о сортируемых данных ее обычно невозможно получить. Необходимо выбирать постоянно один и тот же элемент (например, средний или последний по положению) или выбирать элемент со случайно выбранным индексом.

## Разбиение Ломуто ##

Опорным выбирается последний элемент. Алгоритм хранит индекс в переменной i. Каждый раз, когда находится элемент, меньше или равный опорному, индекс увеличивается, и элемент вставляется перед опорным. Хоть эта схема разбиения проще и компактнее, чем схема Хоара, она менее эффективна и используется в обучающих материалах. Сложность данной быстрой сортировки падает до O(n²), когда массив уже отсортирован или все его элементы равны. Существуют различные методы оптимизации данной сортировки: алгоритмы выбора опорного элемента, использование сортировки вставками на маленьких массивах.

## Разбиение Хоара ##

Данная схема использует два индекса (один в начале массива, другой в конце), которые приближаются друг к другу, пока не найдётся пара элементов, где один больше опорного и расположен перед ним, а второй меньше и расположен после. Эти элементы меняются местами. Обмен происходит до тех пор, пока индексы не пересекутся. Алгоритм возвращает последний индекс. Схема Хоара эффективнее схемы Ломуто, так как происходит в среднем в три раза меньше обменов элементов, и разбиение эффективнее, даже когда все элементы равны. Данная схема также показывает эффективность в O(n²), когда входной массив уже отсортирован.

## Достоинства и недостатки ##

### Достоинства ###

- Наиболее эффективный алгоритм из всех известных методов сортировки
- Алгоритм очень короткий, его легко написать наизусть
- Хорошо работает на различных видах входных данных
- Во многих случаях требует меньше затрат ресурсов по сравнению с другими методами сортировки

### Недостатки ###

- Невысокая скорость работы при малых значениях n
- В худшем случае трудоемкость метода имеет ту же сложность, что и пузырьковая сортировка, то есть порядка O(n²)
- Прямая реализация в виде функции с двумя рекурсивными вызовами может привести к ошибке переполнения стека
- Неустойчивость

## Интересные факты метода Хоара ##

- Если подмассив имеет девять или менее элементов, то целесообразно использовать прямой метод (сортировку простыми вставками)
- Эффективность в значительной степени определяется правильностью выбора опорных элементов при формировании блоков
- При достижении нежелательной глубины рекурсии можно переходить на сортировку другими методами, не требующими рекурсии
- Также можно разбивать массив не на две, а на три части
