# Отчет по лабораторной работе №3

### Исходный код:
```
#include <iostream>
#include <cstdlib>
#include <ctime>

using namespace std;

// функция заполнения массива "array" длиной "quantity" случайными числами 
void filling_array_random(int array[], int quantity)
{
    srand((unsigned)time(0));
    for (int i = 0; i < quantity; i++)
    {
        array[i] = rand() % 10;
    }
}

//функция вывода массива на экран
void array_output(int array[], int quantity)
{
    for (int i = 0; i < quantity; i++)
    {
        cout << array[i] << " ";
    }
    cout << endl;
}

void array_sortHoare(int* array, int left, int right)
{
    int pivot, count;
    int l = left, r = right;
    pivot = array[(l + r) / 2]; //вычисление основного(опорного) элемента
    do
    {
        while (array[l] < pivot) l++;
        while (array[r] > pivot) r--;
        if (l <= r)
        {
            count = array[l];
            array[l] = array[r];
            array[r] = count;
            l++;
            r--;
        }
    } while (l < r);
    if (left < r) {
        array_sortHoare(array, left, r);
    }
    if (l < right) {
        array_sortHoare(array, l, right);
    }
}
int main()
{
    int quantity;

    cout << "Enter the number of elements in the array: ";
    cin >> quantity;

    int* array = new int[quantity];

    filling_array_random(array, quantity);

    cout << "Array: ";
    array_output(array, quantity);

    array_sortHoare(array, 0, quantity - 1);

    cout << "Sorted array: ";
    array_output(array, quantity);
}
```
## Ответы на вопросы
### Кто такой Чарльз Хоар? Чем он известен?
Чарльз Энтони Ричард Хоар - это английский учёный, специализирующийся в области информатики и вычислительной техники.
Известен как разработчик алгоритма "быстрой сортировки". В числе его заслуг — разработка логики Хоара,
научной основы для конструирования корректных программ, используемой для определения и
 разработки языков программирования.
### Общее описание метода Хоара
В методе Хоара сначала выделяют базовый элемент, относительно которого ключи с большим весом переходят
вправо, а с меньшим влево. Базовый элемент сравнивается с противоположным элементом. В качестве базового элемента
очень удобно брать крайние элементы.
### Алгоритм метода Хоара
Сначала массив разбивается на две части относительно какого-то опорного элемента. Сравнить все остальные 
элементы с опорным и переставить их в массиве. Реорганизуем массив таким образом, чтобы все элементы, 
меньшие или равные опорному элементу, оказались слева от него, а все элементы, большие опорного — справа 
от него.
### Как происходит выбор опорного пункта
Это может быть любой из элементов массива. От выбора опорного элемента не зависит корректность алгоритма, 
но в отдельных случаях может сильно зависеть его эффективность. В ранних реализациях, как правило, 
опорным выбирался первый элемент, что снижало производительность на отсортированных массивах. 
Для улучшения эффективности может выбираться средний, случайный элемент или (для больших массивов) 
медиана первого, среднего и последнего элементов. Медиана всей последовательности является оптимальным 
опорным элементом, но её вычисление слишком трудоёмко для использования в сортировке.
### Разбиение Ломуто
Этот алгоритм разбиения был предложен Нико Ломуто. В его разбиении опорным выбирается последний элемент. 
Алгоритм хранит индекс в переменной i. Каждый раз, когда находится элемент, меньше или равный опорному, 
индекс увеличивается, и элемент вставляется перед опорным. 
### Разбиение Хоара
Данная схема использует два индекса, которые приближаются друг к другу, пока не найдётся пара элементов, 
где один больше опорного и расположен перед ним, а второй меньше и расположен после. Эти элементы меняются 
местами. Обмен происходит до тех пор, пока индексы не пересекутся. Алгоритм возвращает последний индекс. 
Схема Хоара эффективнее схемы Ломуто, так как происходит в среднем в три раза меньше обменов (swap) 
элементов, и разбиение эффективнее, даже когда все элементы равны.
### Достоинства и недостатки
Достоинства - один из самых быстрых алгоритмов внутренней сортировки. Легкий и короткий алгоритм, 
который легко запомнить. Не требует много дополнительной памяти для своей работы.
Недостатки - неустойчив, прямая реализация в виде функции с двумя рекурсивными вызовами может привести 
к ошибке переполнения стека, так как в худшем случае ей может потребоваться сделать много вложенных 
рекурсивных вызовов.
### Интересные факты метода Хоара
1. Алгоритм был придуман Хоаром во время его пребывания в Советском Союзе, где он обучался в 
Московском университете компьютерному переводу и занимался разработкой русско-английского разговорника.
2. Возможен случай таких входных данных, на которых алгоритм будет работать за O(n^2) операций. 
Такое происходит, если каждый раз в качестве центрального элемента выбирается максимум или минимум 
входной последовательности. Если данные взяты случайно, вероятность этого равна 2/n. И эта вероятность 
должна реализовываться на каждом шаге. Но это малореальная ситуация.
