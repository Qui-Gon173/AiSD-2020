# Лабораторная работа №3. Реализовать сортировку методом Хоара

``` c++
#include <iostream>
#include <ctime>
using namespace std;
const int SIZE = 15;

//Функция сортировки методом Хоара
void hoarSort(int* arr, int leftBorder, int rightBorder);

int main()
{
    setlocale(LC_ALL, "rus");
    int* massive = new int[SIZE];
    int minDiaposon = 0, maxDiaposon = 100;

    cout << "Исходный массив:" << endl;
    srand(time(0));
    //Заполняю массив случайными числами:
    for (int i = 0; i < SIZE; i++)
    {
        massive[i] = minDiaposon + rand() % (maxDiaposon - minDiaposon + 1);
        //Вывожу элементы массива на экран:
        cout << massive[i] << " ";
    }

    //Вызываю функцию сортировки:
    hoarSort(massive, 0, (SIZE-1));

    //Вывожу отсортированные элементы массива:
    cout << endl << "Получившийся массив:" << endl;
    for (int i = 0; i < SIZE; i++)
    {
        cout << massive[i] << " ";
    }
    system("pause");
    return 0;
}


void hoarSort(int* arr, int leftBorder, int rightBorder)
{
    int leftElem = leftBorder, rightElem = rightBorder;
    int newArr = arr[(leftBorder + rightBorder) / 2];

    do
    {
        while (arr[leftElem] < newArr)
        {
            leftElem++;
        }

        while (arr[rightElem] > newArr)
        {
            rightElem--;
        }

        if (leftElem <= rightElem)
        {
            if (arr[leftElem] > arr[rightElem])
            {
                int newValue = arr[leftElem];
                arr[leftElem] = arr[rightElem];
                arr[rightElem] = newValue;
            }
            leftElem++;
            rightElem--;
        }
    } while (leftElem <= rightElem);

    if (leftElem < rightBorder)
        hoarSort(arr, leftElem, rightBorder);
    if (rightElem > leftBorder)
        hoarSort(arr, leftBorder, rightElem);
}
```

## Ответы на вопросы

- Кто такой Чарльз Хоар? Чем он известен?
Чарльз Хоар (11.01.1934) - английский ученый, специализируется в области информатики и вычислительной техники. Он известен тем, что разработал алгоритм "быстрой сортировки" в 1960 году, который является самым популярным алгоритмом сортировки.

- Общее описание метода Хоара
Быстрая сортировка - это улучшенный вариант сортровки методом прямого обмена. Отличается тем, что перестановки производятся на наибольшем возможном расстоянии. После каждого прохода элементы делятся на две независимые группы.

- Алгоритм метода Хоара
Необходимо выбрать опорный элемент и разбить массив так, чтобы элементы меньше опорного поместились перед ним, а больше или равные - после. Затем повторить рекурсивно к подмассивам слева и справа от опорного элемента. 

- Как происходит выбор опорного пункта
Для улучшения эффективности алгоритма выбирается либо средний, либо случайный элемент (не первый), либо медиана первого, среднего и последнего элементов. Медиана всей последовательности - это оптимальный опорный элемент, но вычислить её трудно.

- Разбиение Ломуто
Опорным элементом является последний. Когда находится элемент меньше или равный опорному, он вставляется перед опорным, а индекс увеличивается. Этот алгоритм был предложен Нико Ломуто.

- Разбиение Хоара
Используются два индекса: в начале и конце массива. Они приближаются до тех пор, пока не найдется пара элементов, где один больше опорного и расположен перед ним, а второй меньше и расположен после. Такие элементы меняются местами. Пока индексы не пересекутся, обмен продолжается.

- Достоинства и недостатки
"+" - один из самых быстрых алгоритмов, требует лишь O(log n) дополнительной памяти для работы, допускает естественное распараллеливание, а также эффективную модификацию для сортировки по нескольким ключам, работает на связных списках. 
"-" - невысокая скорость, является неустойчивым. 

- Интересные факты метода Хоара
Хоар разработал этот метод применительно к машинному переводу, придумал алгоритм, когда был в Советском Союзе.